## Ansible Role: lighthouse-role
=========

Роль Ansible для установки и настройки Nginx с Lighthouse (веб-интерфейс для мониторинга ClickHouse).
Эта роль автоматизирует установку и конфигурацию:

- Nginx - веб-сервер для обслуживания Lighthouse
- Git - система контроля версий (зависимость для клонирования Lighthouse)
- Lighthouse - веб-интерфейс для мониторинга и управления ClickHouse от VKCOM

### Требования
------------

Перед использованием роли убедитесь, что:

- Ansible >= 2.9
- Целевые хосты доступны по SSH
- На хостах есть sudo‑доступ для пользователя Ansible

### Переменные роли
--------------

Все переменные роли находятся в vars/main.yml.
Ниже приведены основные настраиваемые переменные для Lighthouse:

| Переменная                 | По умолчанию                                    | Описание                                                         |
|----------------------------|-------------------------------------------------|------------------------------------------------------------------|
| `lighthouse_vcs`           | `"https://github.com/VKCOM/lighthouse.git"`     | URL репозитория Lighthouse, откуда будет клонироваться код       |
| `lighthouse_location_dir`  | `"/opt/lighthouse/"`                            | Путь на хосте, куда будет размещён Lighthouse                    |
| `lighthouse_nginx_port`    | `8888`                                          | Порт, на котором nginx будет обслуживать Lighthouse              |
| `lighthouse_nginx_user`    | `"root"`                                        | Пользователь, от имени которого запускается nginx для Lighthouse |
|----------------------------|-------------------------------------------------|------------------------------------------------------------------|


### Пример использования
----------------

Вот пример простого playbook, который устанавливает Lighthouse на группу хостов:

---
- name: Install ligthouse and Nginx
  hosts: lighthouse
  roles:
    - lighthouse-role


### Лицензия
-------

MIT License
